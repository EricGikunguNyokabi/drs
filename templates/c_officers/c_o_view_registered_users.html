{% include 'components/header.html' %}
{% include 'components/navbar.html' %}



<script>
    window.onload = function() {
        var rowCount = document.getElementsByTagName("tr").length - 1; // Subtract 1 to exclude the table header
        document.getElementById("userCount").innerText = rowCount;
    };
    // window.onload = function() {
    //     var rowCount = document.getElementsByTagName("tr").length - 1; // Subtract 1 to exclude the table header
    //     document.getElementById("officerCount").innerText = rowCount;
    // };
</script>

<h1 style="font-variant: small-caps; font-weight: 800;">Collection Officer's Dashboard </h1>

<!-- Dropdown menu or tab navigation to switch between users and collection officers -->
<div class="container dropdown">
    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
        View
    </button>
    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        <li><a class="dropdown-item" href="#users">Registered Users</a></li>
        <li><a class="dropdown-item" href="#officers">Collection Officers</a></li>
    </ul>
</div>

<!-- Table for registered users -->
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-12 col-md-1 col-lg-1"></div>


        <div class="col-sm-12 col-md-10 col-lg-10">
            <table id="users" class="table table-light table-hover caption-top w-60 ms-5 me-3">
                <caption class="display-6 text-dark" style="font-variant: small-caps">
                    <button id="userCount" class="btn btn-outline-warning text-dark "></button> Registered Users
                </caption>
                <thead>
                    <tr>
                        <th>#</th>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>ID Number</th>
                        <th>Mobile Number</th>
                        <th>Email Address</th>
                    </tr>
                </thead>
                <tbody>
                    {% if users_data %}
                        {% for row in users_data %}
                        <tr>
                            <td>{{ loop.index }}</td>
                            <td>{{ row[0] }}</td>
                            <td>{{ row[1] }}</td>
                            <td>{{ row[2] }}</td>
                            <td>{{ row[3] }}</td>
                            <td>{{ row[4] }}</td>
                        </tr>
                        {% endfor %}
                    {% else %}
                        <tr>
                            <td colspan="6">No registered users found.</td>
                        </tr>
                    {% endif %}
                </tbody>
            </table>
            
           </div> 
        
          <!-- Button trigger modal -->
          <button type="button" class="btn btn-primary mt-3 float-end" data-bs-toggle="modal" data-bs-target="#addUserModal">BUTTON</button>


        <div class="col-sm-12 col-md-1 col-lg-1"></div>
    </div>
</div>

{% include 'components/footer.html' %}
